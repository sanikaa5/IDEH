# IDEH

Here is the combined `README.md` content in one file. You can copy and paste this into your `README.md` file directly:

```markdown
# Flask Application with PostgreSQL, LangChain, and Social Login

## Overview
This is a Flask web application that integrates PostgreSQL with Flask-SQLAlchemy, provides social login using Google OAuth, implements LangChain for prompt-based interactions, and includes a web scraping feature. Key features include PostgreSQL integration for data storage, Google OAuth authentication via Flask-Dance, web scraping, LangChain for prompt-based responses, and CRUD APIs for scraped data and prompts. The app is also containerized using Docker.

## Prerequisites
Before running the application, ensure you have the following:
- Python 3.x
- PostgreSQL
- Docker (optional, for containerization)

## File Explanations

### `config/config.py`
Contains configuration settings for the application, including the database URI, secret key, and other environment variables like OAuth credentials for Google login.

### `app.py`
Main entry point for the Flask application. It sets up the app, integrates various modules, and runs the Flask development server.

### `requirements.txt`
Lists all the Python dependencies needed to run the application. This includes packages like Flask, Flask-SQLAlchemy, Flask-Dance, LangChain, and BeautifulSoup.

### `models.py` (within `modules/web_application/models/`)
Defines the database models using Flask-SQLAlchemy. Includes `User`, `ScrapedData`, and `PromptLog` models for user management, web scraping, and prompt logging.

### `forms.py` (within `modules/web_application/forms/`)
Contains the forms for handling user inputs, such as for scraping URLs or submitting prompts for LangChain interaction.

### `views.py` (within `modules/web_application/views/`)
Handles the routes for the web application, such as displaying the dashboard, processing user login, performing web scraping, and generating responses from LangChain.

### `templates/`
Contains HTML templates that are rendered by the Flask views. Includes templates for the dashboard, login page, and other views.

### `static/`
Holds static files like CSS, JavaScript, and images used by the application. It's where you place frontend assets like Bootstrap styles.

### `.env`
Stores environment variables, such as database credentials and OAuth keys, to secure sensitive information.

### `Dockerfile`
Defines how the application container should be built using Docker. It specifies the base image, dependencies, and commands to run the app in a containerized environment.

### `docker-compose.yml`
Defines the services (such as the Flask app and PostgreSQL) and how they interact in a Docker environment. It's used for setting up and running the application in a containerized environment.

### `tests/`
Contains unit tests for various functionalities, like user login, web scraping, and LangChain prompt generation.

### `README.md`
This file contains instructions on how to set up, run, and use the application. It explains dependencies, configuration, API endpoints, and testing.


## Installation
To set up the project:

1. Clone the Repository  
   Clone this repository to your local machine:  
   ```bash
   git clone https://github.com/yourusername/your-repository.git  
   cd your-repository
   ```

2. Set Up Virtual Environment  
   Create and activate a virtual environment:  
   ```bash
   python3 -m venv venv  
   source venv/bin/activate  # On Windows, use venv\Scripts\activate  
   ```

3. Install Dependencies  
   Install the required Python packages:  
   ```bash
   pip install -r requirements.txt  
   ```

4. Configure Environment Variables  
   Create a `.env` file in the root of the project and add the following configuration:  
   ```bash
   DATABASE_URL=postgresql://username:password@localhost/dbname  
   SECRET_KEY=your_secret_key  
   GOOGLE_CLIENT_ID=your_google_client_id  
   GOOGLE_CLIENT_SECRET=your_google_client_secret  
   ```

5. Set Up PostgreSQL Database  
   Make sure you have PostgreSQL installed and create a database named `yourdb` or configure it as per your `.env` settings.

6. Run the Application  
   Run the Flask development server:  
   ```bash
   python app.py  
   ```  
   The app should now be accessible at [http://localhost:5000](http://localhost:5000).

## Docker (Optional)
If you prefer to run the app with Docker, follow these steps:

### 1. Build Docker Image
```bash
docker build -t flask-app .
```

### 2. Run Docker Container
```bash
docker-compose up
```
The app will be accessible at [http://localhost:5000](http://localhost:5000).

## API Endpoints

### POST /scrape
Scrapes data from the provided URL.

**Request Payload:**
```json
{
  "url": "https://example.com"
}
```

**Response:**
```json
{
  "message": "Data scraped successfully"
}
```

### POST /generate
Sends a prompt and receives a response generated by LangChain.

**Request Payload:**
```json
{
  "prompt": "What's the weather like today?"
}
```

**Response:**
```json
{
  "generated_output": "Today's weather is sunny with a chance of rain."
}
```

## Testing
You can run unit tests for the application using `pytest`:
```bash
pytest
```

## License
This project is licensed under the MIT License.


